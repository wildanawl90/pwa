(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,70223,e=>{"use strict";var t=e.i(43476),r=e.i(71645),n=e.i(46932);function a({audioRef:e,isPlaying:n}){(0,r.useRef)(null);let a=(0,r.useRef)(void 0),l=(0,r.useRef)(null),i=(0,r.useRef)(null),[s,o]=(0,r.useState)(Array(32).fill(0));return(0,r.useEffect)(()=>{let t=e.current;if(!t||!n){a.current&&cancelAnimationFrame(a.current);return}return(async()=>{try{let e=new(window.AudioContext||window.webkitAudioContext),r=e.createAnalyser();r.fftSize=256,r.smoothingTimeConstant=.8,e.createMediaElementSource(t).connect(r),r.connect(e.destination),l.current=r;let n=r.frequencyBinCount;i.current=new Uint8Array(n);let s=()=>{if(!l.current||!i.current)return;l.current.getByteFrequencyData(i.current);let e=[],t=i.current;for(let r=0;r<32;r++){let n=Math.floor(r/32*t.length),a=Math.floor((r+1)/32*t.length),l=0;for(let e=n;e<a;e++)l+=t[e];let i=l/(a-n);e.push(i/255)}o(e),a.current=requestAnimationFrame(s)};s()}catch(e){console.error("Error initializing audio visualizer:",e)}})(),()=>{a.current&&cancelAnimationFrame(a.current)}},[e,n]),(0,t.jsx)("div",{className:"flex items-end justify-center space-x-1 h-20 mb-4",children:s.map((e,r)=>(0,t.jsx)("div",{className:"bg-gradient-to-t from-purple-400 to-blue-400 rounded-t-sm transition-all duration-75 ease-out",style:{width:"6px",height:`${Math.max(100*e,2)}%`,opacity:n?.8+.2*e:.3,boxShadow:n?`0 0 ${10*e}px rgba(147, 51, 234, 0.5)`:"none"}},r))})}function l(){let[e,l]=(0,r.useState)([]),[i,s]=(0,r.useState)(null),[o,c]=(0,r.useState)(!1),[u,d]=(0,r.useState)(.7),[m,h]=(0,r.useState)(0),[x,f]=(0,r.useState)(0),[p,g]=(0,r.useState)(!1),b=(0,r.useRef)(null),v=(0,r.useRef)(null),y=e=>{i===e&&o?(b.current?.pause(),c(!1)):(s(e),c(!0))},j=()=>{null!==i&&e.length>0&&(s((i+1)%e.length),c(!0))},w=e=>{let t=Math.floor(e/60),r=Math.floor(e%60);return`${t}:${r.toString().padStart(2,"0")}`};return(0,r.useEffect)(()=>{let e=b.current;if(!e)return;let t=()=>{f(e.duration)},r=()=>{p||h(e.currentTime)},n=()=>{j()};return e.addEventListener("loadedmetadata",t),e.addEventListener("timeupdate",r),e.addEventListener("ended",n),()=>{e.removeEventListener("loadedmetadata",t),e.removeEventListener("timeupdate",r),e.removeEventListener("ended",n)}},[i,p]),(0,r.useEffect)(()=>{if(null!==i&&e[i]?.url){let t=b.current;t&&(t.src=e[i].url,t.volume=u,o&&t.play())}},[i,e,u]),(0,r.useEffect)(()=>{let e=b.current;e&&(o?e.play():e.pause())},[o]),(0,t.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 dark:from-gray-900 dark:to-gray-800 p-4",children:(0,t.jsx)("div",{className:"max-w-4xl mx-auto",children:(0,t.jsxs)(n.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},className:"bg-white/10 backdrop-blur-lg rounded-2xl p-8 shadow-2xl",children:[(0,t.jsx)("h1",{className:"text-4xl font-bold text-white text-center mb-8",children:"ðŸŽµ Music Player"}),(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("input",{ref:v,type:"file",accept:"audio/*",multiple:!0,onChange:e=>{let t=e.target.files;if(t){let e=[];Array.from(t).forEach(t=>{if(t.type.startsWith("audio/")){let r=URL.createObjectURL(t);e.push({name:t.name,file:t,url:r})}}),l(t=>[...t,...e])}},className:"hidden"}),(0,t.jsx)("button",{onClick:()=>v.current?.click(),className:"w-full bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white font-semibold py-3 px-6 rounded-xl transition-all duration-300 transform hover:scale-105",children:"ðŸ“ Pilih Lagu dari Device"})]}),(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("h2",{className:"text-2xl font-semibold text-white mb-4",children:"Playlist"}),(0,t.jsxs)("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:[e.map((e,r)=>(0,t.jsx)(n.motion.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*r},className:`p-4 rounded-lg cursor-pointer transition-all duration-300 ${i===r?"bg-purple-600/50 border-2 border-purple-400":"bg-white/5 hover:bg-white/10"}`,onClick:()=>y(r),children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${i===r&&o?"bg-green-500 animate-pulse":"bg-gray-600"}`,children:i===r&&o?"ðŸŽµ":"â–¶ï¸"}),(0,t.jsx)("span",{className:"text-white font-medium truncate",children:e.name})]}),(0,t.jsx)("button",{onClick:e=>{e.stopPropagation(),l(e=>e.filter((e,t)=>t!==r)),i===r&&(s(null),c(!1))},className:"text-red-400 hover:text-red-300 transition-colors",children:"ðŸ—‘ï¸"})]})},r)),0===e.length&&(0,t.jsx)("div",{className:"text-center text-gray-400 py-8",children:"Belum ada lagu. Klik tombol di atas untuk menambah lagu!"})]})]}),null!==i&&e[i]&&(0,t.jsxs)(n.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-black/20 rounded-xl p-6",children:[(0,t.jsx)("div",{className:"text-center mb-4",children:(0,t.jsx)("h3",{className:"text-xl font-semibold text-white truncate",children:e[i].name})}),(0,t.jsx)(a,{audioRef:b,isPlaying:o}),(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("input",{type:"range",min:"0",max:x||100,value:m,onChange:e=>{let t=parseFloat(e.target.value);h(t),b.current&&!p&&(b.current.currentTime=t)},onMouseDown:()=>{g(!0)},onMouseUp:()=>{g(!1),b.current&&(b.current.currentTime=m)},className:"w-full h-2 bg-gray-600 rounded-lg appearance-none cursor-pointer slider"}),(0,t.jsxs)("div",{className:"flex justify-between text-sm text-gray-300 mt-2",children:[(0,t.jsx)("span",{children:w(m)}),(0,t.jsx)("span",{children:w(x)})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-center space-x-6 mb-6",children:[(0,t.jsx)("button",{onClick:()=>{null!==i&&e.length>0&&(s(0===i?e.length-1:i-1),c(!0))},className:"w-12 h-12 bg-white/10 hover:bg-white/20 rounded-full flex items-center justify-center transition-all duration-300 hover:scale-110",children:"â®ï¸"}),(0,t.jsx)("button",{onClick:()=>y(i),className:"w-16 h-16 bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 rounded-full flex items-center justify-center transition-all duration-300 hover:scale-110 shadow-lg",children:o?"â¸ï¸":"â–¶ï¸"}),(0,t.jsx)("button",{onClick:j,className:"w-12 h-12 bg-white/10 hover:bg-white/20 rounded-full flex items-center justify-center transition-all duration-300 hover:scale-110",children:"â­ï¸"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsx)("span",{className:"text-white",children:"ðŸ”Š"}),(0,t.jsx)("input",{type:"range",min:"0",max:"1",step:"0.1",value:u,onChange:e=>{let t=parseFloat(e.target.value);d(t),b.current&&(b.current.volume=t)},className:"flex-1 h-2 bg-gray-600 rounded-lg appearance-none cursor-pointer slider"}),(0,t.jsxs)("span",{className:"text-white text-sm",children:[Math.round(100*u),"%"]})]})]}),(0,t.jsx)("audio",{ref:b})]})})})}e.s(["default",()=>l],70223)}]);