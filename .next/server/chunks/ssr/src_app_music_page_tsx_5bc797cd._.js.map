{"version":3,"sources":["turbopack:///[project]/src/app/music/page.tsx"],"sourcesContent":["'use client'\n\nimport { useState, useRef, useEffect } from 'react'\nimport { motion } from 'framer-motion'\n\ninterface Track {\n  name: string\n  file: File | null\n  url: string | null\n}\n\nexport default function MusicPlayer() {\n  const [tracks, setTracks] = useState<Track[]>([])\n  const [currentTrack, setCurrentTrack] = useState<number | null>(null)\n  const [isPlaying, setIsPlaying] = useState(false)\n  const [volume, setVolume] = useState(0.7)\n  const [currentTime, setCurrentTime] = useState(0)\n  const [duration, setDuration] = useState(0)\n  const [isDragging, setIsDragging] = useState(false)\n  const audioRef = useRef<HTMLAudioElement>(null)\n  const fileInputRef = useRef<HTMLInputElement>(null)\n\n  const handleFileSelect = (event: React.ChangeEvent<HTMLInputElement>) => {\n    const files = event.target.files\n    if (files) {\n      const newTracks: Track[] = []\n      Array.from(files).forEach(file => {\n        if (file.type.startsWith('audio/')) {\n          const url = URL.createObjectURL(file)\n          newTracks.push({\n            name: file.name,\n            file: file,\n            url: url\n          })\n        }\n      })\n      setTracks(prev => [...prev, ...newTracks])\n    }\n  }\n\n  const playTrack = (index: number) => {\n    if (currentTrack === index && isPlaying) {\n      audioRef.current?.pause()\n      setIsPlaying(false)\n    } else {\n      setCurrentTrack(index)\n      setIsPlaying(true)\n    }\n  }\n\n  const nextTrack = () => {\n    if (currentTrack !== null && tracks.length > 0) {\n      const nextIndex = (currentTrack + 1) % tracks.length\n      setCurrentTrack(nextIndex)\n      setIsPlaying(true)\n    }\n  }\n\n  const prevTrack = () => {\n    if (currentTrack !== null && tracks.length > 0) {\n      const prevIndex = currentTrack === 0 ? tracks.length - 1 : currentTrack - 1\n      setCurrentTrack(prevIndex)\n      setIsPlaying(true)\n    }\n  }\n\n  const handleVolumeChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const newVolume = parseFloat(e.target.value)\n    setVolume(newVolume)\n    if (audioRef.current) {\n      audioRef.current.volume = newVolume\n    }\n  }\n\n  const handleProgressChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const newTime = parseFloat(e.target.value)\n    setCurrentTime(newTime)\n    if (audioRef.current && !isDragging) {\n      audioRef.current.currentTime = newTime\n    }\n  }\n\n  const handleProgressMouseDown = () => {\n    setIsDragging(true)\n  }\n\n  const handleProgressMouseUp = () => {\n    setIsDragging(false)\n    if (audioRef.current) {\n      audioRef.current.currentTime = currentTime\n    }\n  }\n\n  const formatTime = (time: number) => {\n    const minutes = Math.floor(time / 60)\n    const seconds = Math.floor(time % 60)\n    return `${minutes}:${seconds.toString().padStart(2, '0')}`\n  }\n\n  useEffect(() => {\n    const audio = audioRef.current\n    if (!audio) return\n\n    const handleLoadedMetadata = () => {\n      setDuration(audio.duration)\n    }\n\n    const handleTimeUpdate = () => {\n      if (!isDragging) {\n        setCurrentTime(audio.currentTime)\n      }\n    }\n\n    const handleEnded = () => {\n      nextTrack()\n    }\n\n    audio.addEventListener('loadedmetadata', handleLoadedMetadata)\n    audio.addEventListener('timeupdate', handleTimeUpdate)\n    audio.addEventListener('ended', handleEnded)\n\n    return () => {\n      audio.removeEventListener('loadedmetadata', handleLoadedMetadata)\n      audio.removeEventListener('timeupdate', handleTimeUpdate)\n      audio.removeEventListener('ended', handleEnded)\n    }\n  }, [currentTrack, isDragging])\n\n  useEffect(() => {\n    if (currentTrack !== null && tracks[currentTrack]?.url) {\n      const audio = audioRef.current\n      if (audio) {\n        audio.src = tracks[currentTrack].url!\n        audio.volume = volume\n        if (isPlaying) {\n          audio.play()\n        }\n      }\n    }\n  }, [currentTrack, tracks, volume])\n\n  useEffect(() => {\n    const audio = audioRef.current\n    if (audio) {\n      if (isPlaying) {\n        audio.play()\n      } else {\n        audio.pause()\n      }\n    }\n  }, [isPlaying])\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 dark:from-gray-900 dark:to-gray-800 p-4\">\n      <div className=\"max-w-4xl mx-auto\">\n        <motion.div\n          initial={{ opacity: 0, y: 20 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ duration: 0.8 }}\n          className=\"bg-white/10 backdrop-blur-lg rounded-2xl p-8 shadow-2xl\"\n        >\n          <h1 className=\"text-4xl font-bold text-white text-center mb-8\">\n            üéµ Music Player\n          </h1>\n\n          {/* File Upload */}\n          <div className=\"mb-8\">\n            <input\n              ref={fileInputRef}\n              type=\"file\"\n              accept=\"audio/*\"\n              multiple\n              onChange={handleFileSelect}\n              className=\"hidden\"\n            />\n            <button\n              onClick={() => fileInputRef.current?.click()}\n              className=\"w-full bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white font-semibold py-3 px-6 rounded-xl transition-all duration-300 transform hover:scale-105\"\n            >\n              üìÅ Pilih Lagu dari Device\n            </button>\n          </div>\n\n          {/* Track List */}\n          <div className=\"mb-8\">\n            <h2 className=\"text-2xl font-semibold text-white mb-4\">Playlist</h2>\n            <div className=\"space-y-2 max-h-64 overflow-y-auto\">\n              {tracks.map((track, index) => (\n                <motion.div\n                  key={index}\n                  initial={{ opacity: 0, x: -20 }}\n                  animate={{ opacity: 1, x: 0 }}\n                  transition={{ delay: index * 0.1 }}\n                  className={`p-4 rounded-lg cursor-pointer transition-all duration-300 ${\n                    currentTrack === index\n                      ? 'bg-purple-600/50 border-2 border-purple-400'\n                      : 'bg-white/5 hover:bg-white/10'\n                  }`}\n                  onClick={() => playTrack(index)}\n                >\n                  <div className=\"flex items-center justify-between\">\n                    <div className=\"flex items-center space-x-3\">\n                      <div className={`w-8 h-8 rounded-full flex items-center justify-center ${\n                        currentTrack === index && isPlaying\n                          ? 'bg-green-500 animate-pulse'\n                          : 'bg-gray-600'\n                      }`}>\n                        {currentTrack === index && isPlaying ? 'üéµ' : '‚ñ∂Ô∏è'}\n                      </div>\n                      <span className=\"text-white font-medium truncate\">\n                        {track.name}\n                      </span>\n                    </div>\n                    <button\n                      onClick={(e) => {\n                        e.stopPropagation()\n                        setTracks(prev => prev.filter((_, i) => i !== index))\n                        if (currentTrack === index) {\n                          setCurrentTrack(null)\n                          setIsPlaying(false)\n                        }\n                      }}\n                      className=\"text-red-400 hover:text-red-300 transition-colors\"\n                    >\n                      üóëÔ∏è\n                    </button>\n                  </div>\n                </motion.div>\n              ))}\n              {tracks.length === 0 && (\n                <div className=\"text-center text-gray-400 py-8\">\n                  Belum ada lagu. Klik tombol di atas untuk menambah lagu!\n                </div>\n              )}\n            </div>\n          </div>\n\n          {/* Player Controls */}\n          {currentTrack !== null && tracks[currentTrack] && (\n            <motion.div\n              initial={{ opacity: 0, y: 20 }}\n              animate={{ opacity: 1, y: 0 }}\n              className=\"bg-black/20 rounded-xl p-6\"\n            >\n              <div className=\"text-center mb-4\">\n                <h3 className=\"text-xl font-semibold text-white truncate\">\n                  {tracks[currentTrack].name}\n                </h3>\n              </div>\n\n              {/* Progress Bar */}\n              <div className=\"mb-6\">\n                <input\n                  type=\"range\"\n                  min=\"0\"\n                  max={duration || 100}\n                  value={currentTime}\n                  onChange={handleProgressChange}\n                  onMouseDown={handleProgressMouseDown}\n                  onMouseUp={handleProgressMouseUp}\n                  className=\"w-full h-2 bg-gray-600 rounded-lg appearance-none cursor-pointer slider\"\n                />\n                <div className=\"flex justify-between text-sm text-gray-300 mt-2\">\n                  <span>{formatTime(currentTime)}</span>\n                  <span>{formatTime(duration)}</span>\n                </div>\n              </div>\n\n              {/* Control Buttons */}\n              <div className=\"flex items-center justify-center space-x-6 mb-6\">\n                <button\n                  onClick={prevTrack}\n                  className=\"w-12 h-12 bg-white/10 hover:bg-white/20 rounded-full flex items-center justify-center transition-all duration-300 hover:scale-110\"\n                >\n                  ‚èÆÔ∏è\n                </button>\n                <button\n                  onClick={() => playTrack(currentTrack)}\n                  className=\"w-16 h-16 bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 rounded-full flex items-center justify-center transition-all duration-300 hover:scale-110 shadow-lg\"\n                >\n                  {isPlaying ? '‚è∏Ô∏è' : '‚ñ∂Ô∏è'}\n                </button>\n                <button\n                  onClick={nextTrack}\n                  className=\"w-12 h-12 bg-white/10 hover:bg-white/20 rounded-full flex items-center justify-center transition-all duration-300 hover:scale-110\"\n                >\n                  ‚è≠Ô∏è\n                </button>\n              </div>\n\n              {/* Volume Control */}\n              <div className=\"flex items-center space-x-4\">\n                <span className=\"text-white\">üîä</span>\n                <input\n                  type=\"range\"\n                  min=\"0\"\n                  max=\"1\"\n                  step=\"0.1\"\n                  value={volume}\n                  onChange={handleVolumeChange}\n                  className=\"flex-1 h-2 bg-gray-600 rounded-lg appearance-none cursor-pointer slider\"\n                />\n                <span className=\"text-white text-sm\">{Math.round(volume * 100)}%</span>\n              </div>\n            </motion.div>\n          )}\n\n          <audio ref={audioRef} />\n        </motion.div>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"wDAEA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OAQe,SAAS,IACtB,GAAM,CAAC,EAAQ,EAAU,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAU,EAAE,EAC1C,CAAC,EAAc,EAAgB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAgB,MAC1D,CAAC,EAAW,EAAa,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GACrC,CAAC,EAAQ,EAAU,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IAC/B,CAAC,EAAa,EAAe,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,GACzC,CAAC,EAAU,EAAY,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,GACnC,CAAC,EAAY,EAAc,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GACvC,EAAW,CAAA,EAAA,EAAA,MAAA,AAAM,EAAmB,MACpC,EAAe,CAAA,EAAA,EAAA,MAAA,AAAM,EAAmB,MAoBxC,EAAY,AAAC,IACb,IAAiB,GAAS,GAC5B,EAAS,MAD8B,CACvB,EAAE,QAClB,GAAa,KAEb,EAAgB,GAChB,GAAa,GAEjB,EAEM,EAAY,KACK,OAAjB,GAAyB,EAAO,MAAM,CAAG,GAAG,CAE9C,EADkB,CAAC,GAAe,CAAC,CAAI,EAAO,MAAM,AACpC,EAChB,EAAa,IAEjB,EAqCM,EAAa,AAAC,IAClB,IAAM,EAAU,KAAK,KAAK,CAAC,EAAO,IAC5B,EAAU,KAAK,KAAK,CAAC,EAAO,IAClC,MAAO,CAAA,EAAG,EAAQ,CAAC,EAAE,EAAQ,QAAQ,GAAG,QAAQ,CAAC,EAAG,KAAA,CAAM,AAC5D,EAuDA,MArDA,CAAA,EAAA,EAAA,SAAS,AAAT,EAAU,KACR,IAAM,EAAQ,EAAS,OAAO,CAC9B,GAAI,CAAC,EAAO,OAEZ,IAAM,EAAuB,KAC3B,EAAY,EAAM,QAAQ,CAC5B,EAEM,EAAmB,KACnB,AAAC,GACH,EAAe,EAAM,KADN,MACiB,CAEpC,EAEM,EAAc,KAClB,GACF,EAMA,OAJA,EAAM,gBAAgB,CAAC,iBAAkB,GACzC,EAAM,gBAAgB,CAAC,aAAc,GACrC,EAAM,gBAAgB,CAAC,QAAS,GAEzB,KACL,EAAM,mBAAmB,CAAC,iBAAkB,GAC5C,EAAM,mBAAmB,CAAC,aAAc,GACxC,EAAM,mBAAmB,CAAC,QAAS,EACrC,CACF,EAAG,CAAC,EAAc,EAAW,EAE7B,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACR,GAAqB,OAAjB,GAAyB,CAAM,CAAC,EAAa,EAAE,IAAK,CACtD,IAAM,EAAQ,EAAS,OAAO,CAC1B,IACF,EAAM,CADG,EACA,CAAG,CAAM,CAAC,EAAa,CAAC,GAAG,CACpC,EAAM,MAAM,CAAG,EACX,GACF,EAAM,IAAI,EADG,CAInB,CACF,EAAG,CAAC,EAAc,EAAQ,EAAO,EAEjC,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACR,IAAM,EAAQ,EAAS,OAAO,CAC1B,IACE,EACF,CAFO,CAED,IAAI,GADG,AAGb,EAAM,KAAK,GAGjB,EAAG,CAAC,EAAU,EAGZ,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,6HACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,6BACb,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,MAAM,CAAC,GAAG,CAAA,CACT,QAAS,CAAE,QAAS,EAAG,EAAG,EAAG,EAC7B,QAAS,CAAE,QAAS,EAAG,EAAG,CAAE,EAC5B,WAAY,CAAE,SAAU,EAAI,EAC5B,UAAU,oEAEV,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,0DAAiD,oBAK/D,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,iBACb,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,IAAK,EACL,KAAK,OACL,OAAO,UACP,QAAQ,CAAA,CAAA,EACR,SAtJa,AAAC,CAsJJ,GArJpB,IAAM,EAAQ,EAAM,MAAM,CAAC,KAAK,CAChC,GAAI,EAAO,CACT,IAAM,EAAqB,EAAE,CAC7B,MAAM,IAAI,CAAC,GAAO,OAAO,CAAC,IACxB,GAAI,EAAK,IAAI,CAAC,UAAU,CAAC,UAAW,CAClC,IAAM,EAAM,IAAI,eAAe,CAAC,GAChC,EAAU,IAAI,CAAC,CACb,KAAM,EAAK,IAAI,CACf,KAAM,EACN,IAAK,CACP,EACF,CACF,GACA,EAAU,GAAQ,IAAI,KAAS,EAAU,CAC3C,CACF,EAuIY,UAAU,WAEZ,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,IAAM,EAAa,OAAO,EAAE,QACrC,UAAU,2MACX,iCAMH,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,iBACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,kDAAyC,aACvD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,+CACZ,EAAO,GAAG,CAAC,CAAC,EAAO,IAClB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAC,GAAG,CAAA,CAET,QAAS,CAAE,QAAS,EAAG,EAAG,CAAC,EAAG,EAC9B,QAAS,CAAE,QAAS,EAAG,EAAG,CAAE,EAC5B,WAAY,CAAE,MAAe,GAAR,CAAY,EACjC,UAAW,CAAC,0DAA0D,EACpE,IAAiB,EACb,8CACA,+BAAA,CACJ,CACF,QAAS,IAAM,EAAU,YAEzB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,8CACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wCACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAW,CAAC,sDAAsD,EACrE,IAAiB,GAAS,EACtB,6BACA,cAAA,CACJ,UACC,IAAiB,GAAS,EAAY,KAAO,OAEhD,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,2CACb,EAAM,IAAI,MAGf,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,AAAC,IACR,EAAE,eAAe,GACjB,EAAU,GAAQ,EAAK,MAAM,CAAC,CAAC,EAAG,IAAM,IAAM,IAC1C,IAAiB,IACnB,EAAgB,CADU,KAE1B,GAAa,GAEjB,EACA,UAAU,6DACX,YAlCE,IAwCU,IAAlB,EAAO,MAAM,EACZ,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,0CAAiC,mEAQpC,OAAjB,GAAyB,CAAM,CAAC,EAAa,EAC5C,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,MAAM,CAAC,GAAG,CAAA,CACT,QAAS,CAAE,QAAS,EAAG,EAAG,EAAG,EAC7B,QAAS,CAAE,QAAS,EAAG,EAAG,CAAE,EAC5B,UAAU,uCAEV,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,4BACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,qDACX,CAAM,CAAC,EAAa,CAAC,IAAI,KAK9B,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,iBACb,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,KAAK,QACL,IAAI,IACJ,IAAK,GAAY,IACjB,MAAO,EACP,SAvLc,AAAD,CAuLH,GAtLxB,IAAM,EAAU,WAAW,EAAE,MAAM,CAAC,KAAK,EACzC,EAAe,GACX,EAAS,OAAO,EAAI,CAAC,IACvB,EAAS,MAD0B,CACnB,CAAC,WAAW,CAAG,CAAA,CAEnC,EAkLgB,YAhLgB,CAgLH,IA/K3B,GAAc,EAChB,EA+KgB,UA7Kc,CA6KH,IA5KzB,EAAc,IACV,EAAS,OAAO,EAAE,AACpB,GAAS,OAAO,CAAC,WAAW,CAAG,CAAA,CAEnC,EAyKgB,UAAU,4EAEZ,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,4DACb,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,UAAM,EAAW,KAClB,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,UAAM,EAAW,WAKtB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,4DACb,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QArNE,CAqNO,IApNF,OAAjB,GAAyB,EAAO,MAAM,CAAG,GAAG,CAE9C,EADkB,AAAiB,MAAI,EAAO,MAAM,AACpC,CADuC,EAAI,EAAe,GAE1E,GAAa,GAEjB,EAgNgB,UAAU,6IACX,OAGD,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,IAAM,EAAU,GACzB,UAAU,8MAET,EAAY,KAAO,OAEtB,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,EACT,UAAU,6IACX,UAMH,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wCACb,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,sBAAa,OAC7B,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,KAAK,QACL,IAAI,IACJ,IAAI,IACJ,KAAK,MACL,MAAO,EACP,SAzOW,AAAC,CAyOF,GAxOxB,IAAM,EAAY,WAAW,EAAE,MAAM,CAAC,KAAK,EAC3C,EAAU,GACN,EAAS,OAAO,EAAE,CACpB,EAAS,OAAO,CAAC,MAAM,CAAG,CAAA,CAE9B,EAoOgB,UAAU,4EAEZ,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,UAAU,+BAAsB,KAAK,KAAK,CAAU,IAAT,GAAc,aAKrE,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,IAAK,UAKtB"}