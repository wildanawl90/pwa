module.exports=[28198,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(46271);function e({audioRef:a,isPlaying:d}){(0,c.useRef)(null);let e=(0,c.useRef)(void 0),f=(0,c.useRef)(null),g=(0,c.useRef)(null),[h,i]=(0,c.useState)(Array(32).fill(0));return(0,c.useEffect)(()=>{let b=a.current;if(!b||!d){e.current&&cancelAnimationFrame(e.current);return}return(async()=>{try{let a=new(window.AudioContext||window.webkitAudioContext),c=a.createAnalyser();c.fftSize=256,c.smoothingTimeConstant=.8,a.createMediaElementSource(b).connect(c),c.connect(a.destination),f.current=c;let d=c.frequencyBinCount;g.current=new Uint8Array(d);let h=()=>{if(!f.current||!g.current)return;f.current.getByteFrequencyData(g.current);let a=[],b=g.current;for(let c=0;c<32;c++){let d=Math.floor(c/32*b.length),e=Math.floor((c+1)/32*b.length),f=0;for(let a=d;a<e;a++)f+=b[a];let g=f/(e-d);a.push(g/255)}i(a),e.current=requestAnimationFrame(h)};h()}catch(a){console.error("Error initializing audio visualizer:",a)}})(),()=>{e.current&&cancelAnimationFrame(e.current)}},[a,d]),(0,b.jsx)("div",{className:"flex items-end justify-center space-x-1 h-20 mb-4",children:h.map((a,c)=>(0,b.jsx)("div",{className:"bg-gradient-to-t from-purple-400 to-blue-400 rounded-t-sm transition-all duration-75 ease-out",style:{width:"6px",height:`${Math.max(100*a,2)}%`,opacity:d?.8+.2*a:.3,boxShadow:d?`0 0 ${10*a}px rgba(147, 51, 234, 0.5)`:"none"}},c))})}function f(){let[a,f]=(0,c.useState)([]),[g,h]=(0,c.useState)(null),[i,j]=(0,c.useState)(!1),[k,l]=(0,c.useState)(.7),[m,n]=(0,c.useState)(0),[o,p]=(0,c.useState)(0),[q,r]=(0,c.useState)(!1),s=(0,c.useRef)(null),t=(0,c.useRef)(null),u=a=>{g===a&&i?(s.current?.pause(),j(!1)):(h(a),j(!0))},v=()=>{null!==g&&a.length>0&&(h((g+1)%a.length),j(!0))},w=a=>{let b=Math.floor(a/60),c=Math.floor(a%60);return`${b}:${c.toString().padStart(2,"0")}`};return(0,c.useEffect)(()=>{let a=s.current;if(!a)return;let b=()=>{p(a.duration)},c=()=>{q||n(a.currentTime)},d=()=>{v()};return a.addEventListener("loadedmetadata",b),a.addEventListener("timeupdate",c),a.addEventListener("ended",d),()=>{a.removeEventListener("loadedmetadata",b),a.removeEventListener("timeupdate",c),a.removeEventListener("ended",d)}},[g,q]),(0,c.useEffect)(()=>{if(null!==g&&a[g]?.url){let b=s.current;b&&(b.src=a[g].url,b.volume=k,i&&b.play())}},[g,a,k]),(0,c.useEffect)(()=>{let a=s.current;a&&(i?a.play():a.pause())},[i]),(0,b.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 dark:from-gray-900 dark:to-gray-800 p-4",children:(0,b.jsx)("div",{className:"max-w-4xl mx-auto",children:(0,b.jsxs)(d.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},className:"bg-white/10 backdrop-blur-lg rounded-2xl p-8 shadow-2xl",children:[(0,b.jsx)("h1",{className:"text-4xl font-bold text-white text-center mb-8",children:"ðŸŽµ Music Player"}),(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsx)("input",{ref:t,type:"file",accept:"audio/*",multiple:!0,onChange:a=>{let b=a.target.files;if(b){let a=[];Array.from(b).forEach(b=>{if(b.type.startsWith("audio/")){let c=URL.createObjectURL(b);a.push({name:b.name,file:b,url:c})}}),f(b=>[...b,...a])}},className:"hidden"}),(0,b.jsx)("button",{onClick:()=>t.current?.click(),className:"w-full bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white font-semibold py-3 px-6 rounded-xl transition-all duration-300 transform hover:scale-105",children:"ðŸ“ Pilih Lagu dari Device"})]}),(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsx)("h2",{className:"text-2xl font-semibold text-white mb-4",children:"Playlist"}),(0,b.jsxs)("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:[a.map((a,c)=>(0,b.jsx)(d.motion.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*c},className:`p-4 rounded-lg cursor-pointer transition-all duration-300 ${g===c?"bg-purple-600/50 border-2 border-purple-400":"bg-white/5 hover:bg-white/10"}`,onClick:()=>u(c),children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,b.jsx)("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${g===c&&i?"bg-green-500 animate-pulse":"bg-gray-600"}`,children:g===c&&i?"ðŸŽµ":"â–¶ï¸"}),(0,b.jsx)("span",{className:"text-white font-medium truncate",children:a.name})]}),(0,b.jsx)("button",{onClick:a=>{a.stopPropagation(),f(a=>a.filter((a,b)=>b!==c)),g===c&&(h(null),j(!1))},className:"text-red-400 hover:text-red-300 transition-colors",children:"ðŸ—‘ï¸"})]})},c)),0===a.length&&(0,b.jsx)("div",{className:"text-center text-gray-400 py-8",children:"Belum ada lagu. Klik tombol di atas untuk menambah lagu!"})]})]}),null!==g&&a[g]&&(0,b.jsxs)(d.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-black/20 rounded-xl p-6",children:[(0,b.jsx)("div",{className:"text-center mb-4",children:(0,b.jsx)("h3",{className:"text-xl font-semibold text-white truncate",children:a[g].name})}),(0,b.jsx)(e,{audioRef:s,isPlaying:i}),(0,b.jsxs)("div",{className:"mb-6",children:[(0,b.jsx)("input",{type:"range",min:"0",max:o||100,value:m,onChange:a=>{let b=parseFloat(a.target.value);n(b),s.current&&!q&&(s.current.currentTime=b)},onMouseDown:()=>{r(!0)},onMouseUp:()=>{r(!1),s.current&&(s.current.currentTime=m)},className:"w-full h-2 bg-gray-600 rounded-lg appearance-none cursor-pointer slider"}),(0,b.jsxs)("div",{className:"flex justify-between text-sm text-gray-300 mt-2",children:[(0,b.jsx)("span",{children:w(m)}),(0,b.jsx)("span",{children:w(o)})]})]}),(0,b.jsxs)("div",{className:"flex items-center justify-center space-x-6 mb-6",children:[(0,b.jsx)("button",{onClick:()=>{null!==g&&a.length>0&&(h(0===g?a.length-1:g-1),j(!0))},className:"w-12 h-12 bg-white/10 hover:bg-white/20 rounded-full flex items-center justify-center transition-all duration-300 hover:scale-110",children:"â®ï¸"}),(0,b.jsx)("button",{onClick:()=>u(g),className:"w-16 h-16 bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 rounded-full flex items-center justify-center transition-all duration-300 hover:scale-110 shadow-lg",children:i?"â¸ï¸":"â–¶ï¸"}),(0,b.jsx)("button",{onClick:v,className:"w-12 h-12 bg-white/10 hover:bg-white/20 rounded-full flex items-center justify-center transition-all duration-300 hover:scale-110",children:"â­ï¸"})]}),(0,b.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,b.jsx)("span",{className:"text-white",children:"ðŸ”Š"}),(0,b.jsx)("input",{type:"range",min:"0",max:"1",step:"0.1",value:k,onChange:a=>{let b=parseFloat(a.target.value);l(b),s.current&&(s.current.volume=b)},className:"flex-1 h-2 bg-gray-600 rounded-lg appearance-none cursor-pointer slider"}),(0,b.jsxs)("span",{className:"text-white text-sm",children:[Math.round(100*k),"%"]})]})]}),(0,b.jsx)("audio",{ref:s})]})})})}a.s(["default",()=>f],28198)}];

//# sourceMappingURL=src_app_music_page_tsx_5bc797cd._.js.map